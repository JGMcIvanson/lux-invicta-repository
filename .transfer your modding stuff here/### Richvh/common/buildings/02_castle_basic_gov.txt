 # Triggers are in Province scope. The From Scope contains the settlement holder (character)
 # start trigger is in title scope.
 # - riknap : replaced all build time = 425 with 365 (now 335)  and 547 with ..., ie 1 year and 1 3 mo 14 days respectively
 # - riknap: lowered feudal levy specialization costs
  #<tag> = {
 #	desc = description used in the tooltip of the building
 #	trigger = used for tech requirement of the building, set to 0 if no requirement so it can be build automatically on new games
 #	ai_creation_factor = weight that the AI uses to determine what building to build
 #	extra_tech_building_start = when starting a new game this building will be pre-built if the province has higher tech than the requirement + this + random 0-1
 
# Castle - regular buildings
castle = {
	
	#Government Tree
	#Control	
	ca_control_1 = {
		trigger = { TECH_LEGALISM = 0}
		desc = "d_control"
		build_cost = 20
		build_time = 240
		tax_income = 0.05
		#garrison_size = -0.01
		ai_creation_factor = 300
		extra_tech_building_start = 1.0
		
	}
	ca_control_2 = {
		trigger = { TECH_LEGALISM = 0}
		desc = "d_control"
		upgrades_from = ca_control_1
		build_cost = 40
		build_time = 480
		tax_income = 0.10
		#garrison_size = -0.01
		ai_creation_factor = 300
		extra_tech_building_start = 1.0
	}
	ca_control_3 = {
		trigger = { TECH_LEGALISM = 0}
		desc = "d_control"
		upgrades_from = ca_control_2
		build_cost = 80
		build_time = 960
		tax_income = 0.20
		#garrison_size = -0.01
		ai_creation_factor = 300
		extra_tech_building_start = 1.0
	}
	#Admin
	ca_admin_1 = {
		trigger = { TECH_LEGALISM = 0}
		desc = "d_admin"
		upgrades_from = ca_control_3
		build_cost = 20
		build_time = 240
		tax_income = 0.05
		retinuesize = 2
		#garrison_size = -0.01
		ai_creation_factor = 300
		extra_tech_building_start = 1.0
		
	}
	
	ca_admin_2 = {
		trigger = { TECH_LEGALISM = 0}
		desc = "d_admin"
		upgrades_from = ca_admin_1
		build_cost = 40
		build_time = 480
		tax_income = 0.10
		retinuesize = 4
		#garrison_size = -0.01
		ai_creation_factor = 300
		extra_tech_building_start = 1.0
	}
	
	ca_admin_3 = {
		trigger = { TECH_LEGALISM = 0}
		desc = "d_admin"
		upgrades_from = ca_admin_2
		build_cost = 20
		build_time = 240
		tax_income = 0.05
		retinuesize = 2
		#garrison_size = -0.01
		ai_creation_factor = 300
		extra_tech_building_start = 1.0
		
	}
	
	#Village Headmen
	ca_villageheads_1 = {
		trigger = { TECH_LEGALISM = 0}
		desc = "d_villageheads"
		upgrades_from = ca_admin_3
		build_cost = 25
		build_time = 365
		#tax_income = 0.05
		levy_size = 0.01
		retinuesize = 5
		ai_creation_factor = 300

		extra_tech_building_start = 1.0
	}
	ca_villageheads_2 = {
		trigger = { TECH_LEGALISM = 0}
		desc = "d_villageheads"
		upgrades_from = ca_villageheads_1
		build_cost = 50
		build_time = 730
		tax_income = 0.10
		#levy_size = 0.01
		retinuesize = 10
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
}
	ca_villageheads_3 = {
		trigger = { TECH_LEGALISM = 0}
		desc = "d_villageheads"
		upgrades_from = ca_villageheads_2
		build_cost = 100
		build_time = 1460
		tax_income = 0.20
		#levy_size = 0.01
		retinuesize = 20
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	#Tax Farming
	ca_taxfarming_1 = {
		desc = "d_taxfarming"
		trigger = { TECH_CASTLE_CONSTRUCTION = 1 }
		prerequisites = { ca_villageheads_3 }
		build_cost = 75
		build_time = 365
		tax_income = 0.3
		ai_creation_factor = 300

		extra_tech_building_start = 1.0
	}
	ca_taxfarming_2 = {
		trigger = { TECH_CASTLE_CONSTRUCTION = 1 }
		desc = "d_taxfarming"
		upgrades_from = ca_taxfarming_1
		build_cost = 150
		build_time = 730
		tax_income = 0.6
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_taxfarming_3 = {
		trigger = { TECH_CASTLE_CONSTRUCTION = 1 }
		desc = "d_taxfarming"
		upgrades_from = ca_taxfarming_2
		build_cost = 300
		build_time = 1460
		tax_income = 1.2
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	#Bailiffs
	ca_bailiffs_1 = {
		desc = "d_bailiffs"
		trigger = { TECH_CASTLE_CONSTRUCTION = 1 }
		upgrades_from = ca_taxfarming_3
		build_cost = 30
		build_time = 365
		tax_income = 0.05
		levy_size = 0.005
		retinuesize = 5
		garrison_size = -0.01
		ai_creation_factor = 300

		extra_tech_building_start = 1.0
	}
	ca_bailiffs_2 = {
		desc = "d_bailiffs"
		trigger = { TECH_CASTLE_CONSTRUCTION = 1 }
        prerequisites = { ca_schools_1 }	
		upgrades_from = ca_bailiffs_1
		build_cost = 60
		build_time = 730
		tax_income = 0.10
		levy_size = 0.010
		retinuesize = 10
		garrison_size = -0.02
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_bailiffs_3 = {
		desc = "d_bailiffs"
		trigger = { TECH_CASTLE_CONSTRUCTION = 1 }
		upgrades_from = ca_bailiffs_2
		build_cost = 120
		build_time = 1460
		tax_income = 0.20
		retinuesize = 20
		levy_size = 0.020
		garrison_size = -0.04
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	#Law Enforcement
	ca_lawenforce_1 = {
		desc = "d_lawenforce"
		trigger = {
			TECH_CASTLE_CONSTRUCTION = 2
			FROM = {
				realm_diplomacy = 20
			}
		}
		prerequisites = { ca_bailiffs_1}
		build_cost = 30
		build_time = 365
		garrison_size = -0.02
		#tax_income = 0.1
		retinuesize = 10
		ai_creation_factor = 300
		extra_tech_building_start = 1.0
	}
	ca_lawenforce_2 = {
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		desc = "d_lawenforce"
		prerequisites = { ca_bailiffs_2 }
		upgrades_from = ca_lawenforce_1
		build_cost = 60
		build_time = 730
		garrison_size = -0.04
		retinuesize = 20
		#tax_income = 0.1
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_lawenforce_3 = {
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		desc = "d_lawenforce"
		prerequisites = { ca_bailiffs_3 }
		upgrades_from = ca_lawenforce_2
		build_cost = 120
		build_time = 1460
		garrison_size = -0.08
		#tax_income = 0.1
		retinuesize = 40
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
		#Local Policing
	ca_localpolice_1 = {
		desc = "d_localpolice"
		trigger = {
			TECH_CASTLE_CONSTRUCTION = 3
			FROM = {
				realm_diplomacy = 20
				realm_intrigue = 20
			}
		}
		
		upgrades_from = ca_lawenforce_3
		prerequisites = { ca_localass_1 }
		build_cost = 45
		build_time = 450
		garrison_size = -0.02
		local_revolt_risk = -0.002
		tax_income = 0.1
		retinuesize = 15
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_localpolice_2 = {
		trigger = { TECH_CASTLE_CONSTRUCTION = 3 }
		desc = "d_localpolice"
		upgrades_from = ca_localpolice_1
		build_cost = 90
		build_time = 900
		garrison_size = -0.04
		local_revolt_risk = -0.004
		tax_income = 0.2
		retinuesize = 30
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_localpolice_3 = {
		trigger = { TECH_CASTLE_CONSTRUCTION = 3 }
		desc = "d_localpolice"
		upgrades_from = ca_localpolice_2
		build_cost = 90
		build_time = 900
		garrison_size = -0.08
		local_revolt_risk = -0.008
		tax_income = 0.4
		retinuesize = 60
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	#court
	ca_court_1 = {
		desc = "d_court"
		trigger = { TECH_CASTLE_CONSTRUCTION = 4 }
		upgrades_from = ca_localpolice_3
		prerequisites = { ca_magistrates_2 }
		build_cost = 100
		build_time = 450
		local_revolt_risk = -0.01
		#tax_income = 0.05
		#retinuesize = 20
		ai_creation_factor = 60

		extra_tech_building_start = 1.0
	}
	ca_court_2 = {
		trigger = { TECH_CASTLE_CONSTRUCTION = 4 }
		desc = "d_court"
		upgrades_from = ca_court_1
		build_cost = 200
		build_time = 900
		local_revolt_risk = -0.02
		#tax_income = 0.05
		#retinuesize = 20
		ai_creation_factor = 120
		
		extra_tech_building_start = 1.0
	}
	ca_court_3 = {
		trigger = { TECH_CASTLE_CONSTRUCTION = 4 }
		desc = "d_court"
		upgrades_from = ca_court_2
		build_cost = 400
		build_time = 1800
		local_revolt_risk = -0.04
		#tax_income = 0.05
		#retinuesize = 20
		ai_creation_factor = 60
		
		extra_tech_building_start = 1.0
	}
	
	#local judges
	ca_localjudges_1 = {
		desc = "d_localjudges"
		trigger = { TECH_CASTLE_CONSTRUCTION = 4}
		upgrades_from =  ca_court_3
		prerequisites = { ca_magistrates_3 ca_locmerch_3}
		build_cost = 100
		build_time = 450
		#garrison_growth = 0.01
		levy_reinforce_rate = 0.01
		retinuesize = 40
		#tax_income = -0.1
		ai_creation_factor = 300

		extra_tech_building_start = 1.0
	}
	ca_localjudges_2 = {
		desc = "d_localjudges"
		trigger = { TECH_CASTLE_CONSTRUCTION = 4}
		upgrades_from = ca_localjudges_1
		build_cost = 200
		build_time = 900
		levy_reinforce_rate = 0.02
		#garrison_growth = 0.01
		retinuesize = 80
		#tax_income = -0.1
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_localjudges_3 = {
		desc = "d_localjudges"
		trigger = { TECH_CASTLE_CONSTRUCTION = 4}
		upgrades_from = ca_localjudges_2
		build_cost = 400
		build_time = 1800
		levy_reinforce_rate = 0.04
		#garrison_growth = 0.01
		retinuesize = 160
		#tax_income = -0.1
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}

	#Local Autonomy 
	ca_localautonomy_1 = {
		desc = "d_localautonomy"
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		prerequisites = { ca_lawenforce_3 }
		build_cost = 100
		build_time = 365
		#levy_size = 0.02
		garrison_size = 0.03
		retinuesize = 25
		tax_income = -0.15
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_localautonomy_2 = {
		desc = "d_localautonomy"
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		upgrades_from = ca_localautonomy_1
		build_cost = 200
		build_time = 730
		levy_size = 0.04
		#garrison_size = 0.03
		retinuesize = 50
		tax_income = -0.30
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_localautonomy_3 = {
		desc = "d_localautonomy"
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		upgrades_from = ca_localautonomy_2
		build_cost = 400
		build_time = 1460
		levy_size = 0.08
		#garrison_size = 0.03
		retinuesize = 100
		tax_income = -0.60
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}

	#local assemblies
	ca_localass_1 = {
		desc = "d_localass"
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		upgrades_from = ca_localautonomy_3
		prerequisites = { ca_milset_3 }
		build_cost = 125
		build_time = 365
		levy_size = 0.025
		#garrison_growth = 0.02
		land_morale = 0.015
		tax_income = -0.3
		retinuesize = 25
		ai_creation_factor = 300

		extra_tech_building_start = 1.0
	}
	ca_localass_2 = {
		desc = "d_localass"
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		upgrades_from = ca_localass_1
		build_cost = 250
		build_time = 730
		levy_size = 0.050
		#garrison_growth = 0.03
		land_morale = 0.030
		tax_income = -0.6
		retinuesize = 50
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_localass_3 = {
		desc = "d_localass"
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		upgrades_from = ca_localass_2
		build_cost = 500
		build_time = 1460
		levy_size = 0.100
		#garrison_growth = 0.02
		#land_morale = 0.015
		tax_income = -1.2
		retinuesize = 100
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}

	#local council
	ca_localcouncil_1 = {
		desc = "d_localcouncil"
		trigger = { TECH_CASTLE_CONSTRUCTION = 3 }
		upgrades_from = ca_localass_3
		prerequisites = { ca_compol_1 }
		build_cost = 125
		build_time = 365
		garrison_size = 0.01
		land_morale = 0.01
		#tax_income = 0.05
		ai_creation_factor = 300

		extra_tech_building_start = 1.0
	}
	ca_localcouncil_2 = {
		desc = "d_localcouncil"
		trigger = { TECH_CASTLE_CONSTRUCTION = 3}
		upgrades_from = ca_localcouncil_1
		build_cost = 250
		build_time = 730
		garrison_size = 0.02
		land_morale = 0.02
		#tax_income = 0.05
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_localcouncil_3 = {
		desc = "d_localcouncil"
		trigger = { TECH_CASTLE_CONSTRUCTION = 3 }
		upgrades_from = ca_localcouncil_2
		build_cost = 500
		build_time = 1460
		garrison_size = 0.04
		land_morale = 0.04
		#tax_income = 0.05
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}

	#freecommune
	ca_freecommune_1 = {
		trigger = { TECH_CASTLE_CONSTRUCTION = 3}
		prerequisites = { 
			#ca_milhold_7 
			ca_localcouncil_3
		}
		desc = "d_freecommune"
		build_cost = 150
		build_time = 450
		#garrison_growth = 0.01
		land_morale = 0.01
		retinuesize = 50
		tax_income = -0.15
		ai_creation_factor = 300

		extra_tech_building_start = 1.0
	}
	ca_freecommune_2 = {
		desc = "d_freecommune"
		trigger = { TECH_CASTLE_CONSTRUCTION = 3}
		upgrades_from = ca_freecommune_1
		build_cost = 300
		build_time = 900
		retinuesize = 100
		tax_income = -0.30
		#garrison_growth = 0.01
		land_morale = 0.02
		#tax_income = 0.2
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_freecommune_3 = {
		desc = "d_freecommune"
		trigger = { TECH_CASTLE_CONSTRUCTION = 3}
		upgrades_from = ca_freecommune_2
		build_cost = 600
		build_time = 1800
		retinuesize = 200
		tax_income = -0.60
		#garrison_growth = 0.01
		land_morale = 0.04
		#tax_income = 0.2
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}

	#magistrates
	ca_magistrates_1 = {
		desc = "d_magistrates"
		trigger = { TECH_CASTLE_CONSTRUCTION = 3}
		prerequisites = { ca_freecommune_1}
		build_cost = 125
		build_time = 450
		levy_size = 0.025
		levy_reinforce_rate = 0.025
		garrison_size = -0.03
		tax_income = -0.15
		ai_creation_factor = 300

		extra_tech_building_start = 1.0
	}
	ca_magistrates_2 = {
		desc = "d_magistrates"
		trigger = { TECH_CASTLE_CONSTRUCTION = 3}
		prerequisites = {ca_freecommune_2}
		upgrades_from = ca_magistrates_1
		build_cost = 250
		build_time = 900
		levy_size = 0.050
		levy_reinforce_rate = 0.050
		garrison_size = -0.06
		tax_income = -0.30
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_magistrates_3 = {
		desc = "d_magistrates"
		trigger = { TECH_CASTLE_CONSTRUCTION = 3}
		prerequisites = { ca_freecommune_3 }
		upgrades_from = ca_magistrates_2
		build_cost = 500
		build_time = 1800
		levy_size = 0.100
		levy_reinforce_rate = 0.100
		garrison_size = -0.12
		tax_income = -0.60
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}

	
	#civil service
	ca_civilservice_1 = {
		trigger = {
			TECH_CASTLE_CONSTRUCTION = 5
			FROM = { 
				realm_diplomacy = 30
				realm_stewardship = 30
			}
		}
		prerequisites = { 
			ca_localjudges_3
		}
		upgrades_from = ca_magistrates_3
		desc = "d_civilservice"
		build_cost = 50
		build_time = 450
		levy_reinforce_rate = 0.02
		levy_size = 0.01
		retinuesize = 50
		#garrison_growth = 0.01
		tax_income = -0.2
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_civilservice_2 = {
		desc = "d_civilservice"		
		trigger = { TECH_CASTLE_CONSTRUCTION = 5}
		upgrades_from = ca_civilservice_1
		build_cost = 100
		build_time = 900
		levy_reinforce_rate = 0.04
		levy_size = 0.02
		retinuesize = 100
		#garrison_growth = 0.01
		tax_income = -0.4
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_civilservice_3 = {
		desc = "d_civilservice"
		trigger = { TECH_CASTLE_CONSTRUCTION = 5}
		upgrades_from = ca_civilservice_2
		build_cost = 200
		build_time = 1800
		levy_reinforce_rate = 0.08
		levy_size = 0.04
		retinuesize = 200
		#garrison_growth = 0.01
		tax_income = -0.8
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}

	#bureaucracy
	ca_bureaucracy_1 = {
		desc = "d_bureaucracy"
		upgrades_from = ca_civilservice_3
		trigger = {
			TECH_CASTLE_CONSTRUCTION = 6
			FROM = {
				realm_diplomacy = 35
				realm_stewardship = 35
			}
		}
		build_cost = 100
		build_time = 450
		levy_reinforce_rate = 0.05
		levy_size = 0.01
		retinuesize = 50
		#garrison_growth = 0.03
		tax_income = -0.2
		ai_creation_factor = 300

		extra_tech_building_start = 1.0
	}
	ca_bureaucracy_2 = {
		desc = "d_bureaucracy"
		trigger = { TECH_CASTLE_CONSTRUCTION = 6 }
		upgrades_from = ca_bureaucracy_1
		build_cost = 200
		build_time = 900
		levy_reinforce_rate = 0.10
		#garrison_growth = 0.03
		levy_size = 0.02
		retinuesize = 100
		tax_income = -0.4
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
	ca_bureaucracy_3 = {
		desc = "d_bureaucracy"
		trigger = { TECH_CASTLE_CONSTRUCTION = 6 }
		upgrades_from = ca_bureaucracy_2
		build_cost = 400
		build_time = 1800
		levy_reinforce_rate = 0.20
		#garrison_growth = 0.03
		levy_size = 0.04
		retinuesize = 200
		tax_income = -0.8
		ai_creation_factor = 300
		
		extra_tech_building_start = 1.0
	}
}